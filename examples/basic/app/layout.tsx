import type { Metadata } from "next";
import { Inter } from "next/font/google";
import { DfnsConnectProvider } from "@dfns/sdk-connect/sdk-connect/DfnsConnectProvider";
import { DfnsConnectConfig } from "../../../sdk-connect";
import "./globals.css";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

// Configure your Dfns Connect credentials (mandatory)
// Configure your visual theme and logo (optional)
const dfnsConnectConfig: DfnsConnectConfig = {
  iframeUrl: process.env.NEXT_PUBLIC_IFRAME_URL || "",
  appId: process.env.NEXT_PUBLIC_DFNS_APP_ID || "",
  orgId: process.env.NEXT_PUBLIC_DFNS_ORG_ID || "",
  theme: {
    global: {
      backgroundColor: "#0A0E18",
      borderColor: "#474E66",
      textColor: "#FFFFFF",
      highlightColor: "#21B5F5",
    },
    primaryButton: {
      backgroundColor: "#21B5F5",
      textColor: "#FFFFFF",
      borderRadiusPx: "24",
    },
    secondaryButton: {
      textColor: "#BDBDBD",
      backgroundColor: "#0A0E18",
      outlineColor: "#BDBDBD",
    },
    indicators: {
      successColor: "#7FA631",
      errorColor: "#EA2F72",
    },
    logoImgUrl: process.env.NEXT_PUBLIC_LIGHT_LOGO_IMAGE_URL,
    logoDarkImgUrl: process.env.NEXT_PUBLIC_DARK_LOGO_IMAGE_URL,
  },
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <DfnsConnectProvider config={dfnsConnectConfig}>
          {children}
        </DfnsConnectProvider>
      </body>
    </html>
  );
}
